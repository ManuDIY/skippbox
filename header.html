<!DOCTYPE html>
<html data-ng-app="kuiApp">
<head>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="lib/html5shiv.min.js"></script>
    <script src="lib/respond.min.js"></script>
    <![endif]-->

    <script src="lib/angular.min.js"></script>
    <script src="lib/angular-resource.min.js"></script>
    <script src="lib/angular-route.min.js"></script>
    <script src="lib/jquery.min.js"></script>
    <script src="lib/bootstrap.js"></script>
    <script src="lib/bootstrap.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/router/routes.js"></script>
    <script src="js/controllers/controller.js"></script>

    <title>Hello World!</title>
    <script>
        var fs = require('fs');
        var Client = require('node-kubernetes-client');

        var client = new Client({
            host: '127.0.0.1:8080',
            protocol: 'http',
            version: 'v1',
            token: ''
        });
    </script>
</head>

<body class="container" data-ng-controller="kuiController">
<!--<div data-ng-include src="headerSrc"></div>-->
<div id="container">
    <div data-ng-view=""></div>
</div>

<script>
    var pods, podId;

    client.pods.getBy({"namespace": "default"}, function (err, podsArr) {
        if (!err) {
            console.log('pods: ' + podsArr);
            pods = podsArr.items;
            document.write(JSON.stringify(podsArr));
            // output results
            fs.writeFile("results/pods.json", JSON.stringify(podsArr, null, 4), function (err) {
                if (err) {
                    console.log(err);
                }
                console.log("The file was saved!");
            });
        } else {
            document.write("toto")
        }
    });
    document.write(process.version)
</script>
</body>
</html>
